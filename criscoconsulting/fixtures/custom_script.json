[
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Payment Entry", 
  "modified": "2018-01-29 18:24:49.553237", 
  "name": "Payment Entry-Client", 
  "script": "//cur_frm.set_value(\"test_user_\",frappe.session.user)\n\n//cur_frm.cscript.onload_post_render = function(frm,dt,dn){\n\n//if(doc.test_user == 'ahmed'){\n//}else {\n//cur_frm.set_value(\"payment_type\",\"Receive\")\n//}else if(doc.company == 'Company 3'){\n//cur_frm.set_value(\"naming_series\",\"COM3SO\")\n//}\n\n//}", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Stock Entry", 
  "modified": "2018-01-26 20:17:09.502413", 
  "name": "Stock Entry-Client", 
  "script": "\n//cur_frm.set_value(\"transit_warehouse\",\"Transit - SAM\")\n", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Sales Invoice", 
  "modified": "2018-01-30 10:09:28.333160", 
  "name": "Sales Invoice-Client", 
  "script": "frappe.ui.form.on('Sales Invoice', {\n\trefresh: function(frm) {\n\t\tvar me = this;\n\t\tif(frm.doc.outstanding_amount!=0 && !cint(frm.doc.is_return)) {\n\t\t\tcur_frm.add_custom_button(__(\"<b>Create Entry Of Receipt</b>\"),\n\t\t\t\tfunction() {\n\t\t\t\t\t\t\tconsole.log(\"in payment_entry\");\n\t\t\t\t\t\t\tcur_frm.cscript.make_payment_entry_custom();\n\n\t\t\t\t})\n\t\t\t};\n\t\t\t\n\t},\n});\ncur_frm.cscript.make_payment_entry_custom = function() {\n\t\tconsole.log(\"in payment_entry222\");\n\t\treturn frappe.call({\n\t\t\tmethod: \"criscoconsulting.criscoconsulting.doctype.entry_of_receipt.entry_of_receipt.get_payment_entry\",\n\t\t\targs: {\n\t\t\t\t\"dt\": cur_frm.doc.doctype,\n\t\t\t\t\"dn\": cur_frm.doc.name\n\t\t\t},\n\t\t\tcallback: function(r) {\n\t\t\t\tvar doclist = frappe.model.sync(r.message);\n\t\t\t\tfrappe.set_route(\"Form\", doclist[0].doctype, doclist[0].name);\n\t\t\t\t// cur_frm.refresh_fields()\n\t\t\t}\n\t\t});\n}\n", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Purchase Invoice", 
  "modified": "2018-01-30 10:09:43.762904", 
  "name": "Purchase Invoice-Client", 
  "script": "frappe.ui.form.on('Purchase Invoice', {\n\trefresh: function(frm) {\n\t\tvar me = this;\n\t\tif(frm.doc.docstatus&&frm.doc.outstanding_amount!=0 && !cint(frm.doc.is_return)) {\n\t\t\tcur_frm.add_custom_button(__(\"<b>Create Entry Of Payment</b>\"),\n\t\t\t\tfunction() {\n\t\t\t\t\t\t\tconsole.log(\"in payment_entry\");\n\t\t\t\t\t\t\tcur_frm.cscript.make_payment_entry_custom();\n\n\t\t\t\t})\n\t\t\t};\n\t\t\t\n\t},\n});\ncur_frm.cscript.make_payment_entry_custom = function() {\n\t\tconsole.log(\"in payment_entry222\");\n\t\treturn frappe.call({\n\t\t\tmethod: \"criscoconsulting.criscoconsulting.doctype.entry_of_payment.entry_of_payment.get_payment_entry\",\n\t\t\targs: {\n\t\t\t\t\"dt\": cur_frm.doc.doctype,\n\t\t\t\t\"dn\": cur_frm.doc.name\n\t\t\t},\n\t\t\tcallback: function(r) {\n\t\t\t\tvar doclist = frappe.model.sync(r.message);\n\t\t\t\tfrappe.set_route(\"Form\", doclist[0].doctype, doclist[0].name);\n\t\t\t\t// cur_frm.refresh_fields()\n\t\t\t}\n\t\t});\n}\n", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Material Transfer", 
  "modified": "2018-02-08 16:05:24.847377", 
  "name": "Material Transfer-Client", 
  "script": "frappe.ui.form.on(\"Material Transfer\", \"validate\", function(frm, cdt, cdn) {\n\tconsole.log(\"Test1\");\n\tvar t=cur_frm.doc.material_transfer_type ;\n\tconsole.log(t);\n\tif (cur_frm.doc.purpose == \"Material Transfer\"){\n\t\tif( cur_frm.doc.material_transfer_type == \"Send\"){\n\t\t\tconsole.log(\"if is true\");\n\t\t\tcur_frm.set_value(\"to_warehouse\", \"Transit - SAM\");\n\t\t}\n\t\tif( cur_frm.doc.material_transfer_type == \"Receive\"){\n\t\t\tconsole.log(\"if is true\");\n\t\t\tcur_frm.set_value(\"from_warehouse\", \"Transit - SAM\");\n\t\t}\n\t}\n\n});\n\n\nfrappe.ui.form.on(\"Material Transfer\", \"refresh\", function(frm, cdt, cdn) {\n\tconsole.log(\"Test1\");\n\tvar t=cur_frm.doc.material_transfer_type ;\n\tconsole.log(t);\n\t\tif(!frm.doc.docstatus) {\n\t\t\tfrm.add_custom_button(__('Receive Stock'), function() {\n\t\t\t\tfrappe.model.with_doctype('Material Transfer', function() {\n\t\t\t\t\tvar mr = frappe.model.get_new_doc('Material Transfer');\n\t\t\t\t\tvar items = frm.get_field('items').grid.get_selected_children();\n\t\t\t\t\t// mr.items = frm.doc.items\n\t\t\t\t\t// mr.material_transfer_type = frm.doc.material_transfer_type\n\t\t\t\t\tmr.material_transfer_type = \"Receive\"\n\t\t\t\t\tmr.reference_of_send_entry = frm.doc.name\n\t\t\t\t\tmr.receiver = frm.doc.receiver\n\t\t\t\t\tmr.from_warehouse = \"Transit - SAM\"\n\t\t\t\t\tmr.receiver_warehouse = frm.doc.receiver_warehouse\n\n\t\t\t\t\tmr.to_warehouse = frm.doc.receiver_warehouse\n\t\t\t\t\tif(!items.length) {\n\t\t\t\t\t\titems = frm.doc.items;\n\t\t\t\t\t}\n\t\t\t\t\titems.forEach(function(item) {\n\t\t\t\t\t\tvar mr_item = frappe.model.add_child(mr, 'items');\n\t\t\t\t\t\tmr_item.item_code = item.item_code;\n\t\t\t\t\t\tmr_item.item_name = item.item_name;\n\t\t\t\t\t\tmr_item.uom = item.uom;\n\t\t\t\t\t\tmr_item.stock_uom = item.stock_uom;\n\t\t\t\t\t\tmr_item.transfer_qty = item.transfer_qty;\n\n\t\t\t\t\t\tmr_item.conversion_factor = item.conversion_factor;\n\t\t\t\t\t\tmr_item.item_group = item.item_group;\n\t\t\t\t\t\tmr_item.description = item.description;\n\t\t\t\t\t\tmr_item.image = item.image;\n\t\t\t\t\t\tmr_item.qty = item.qty;\n\t\t\t\t\t\tmr_item.warehouse = item.s_warehouse;\n\t\t\t\t\t\tmr_item.required_date = frappe.datetime.nowdate();\n\t\t\t\t\t});\n\t\t\t\t\tfrappe.set_route('Form', 'Material Transfer', mr.name);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n});\n", 
  "script_type": "Client"
 }
]